[env:arduino_nano_esp32]
platform = espressif32
board = arduino_nano_esp32
framework = arduino
lib_deps = 
	bblanchon/ArduinoJson@^7.4.1
	adafruit/Adafruit ADS1X15@^2.5.0
	https://github.com/imax9000/Arduino-PID-Library.git
	littlefs

; === Upload Configuration ===
; upload_protocol = dfu
upload_protocol = esptool
upload_speed = 921600

; Force hard reset after upload to ensure WiFi peripheral reinitializes
monitor_rts = 0
monitor_dtr = 0

; === Build Speed Optimization ===
; Disable debug logging for smaller/faster binary
build_flags = 
    -DCORE_DEBUG_LEVEL=0

; Enable ccache for faster rebuilds (if installed)
; Install: choco install ccache (Windows) or apt install ccache (Linux)
build_cache_dir = .pio/build_cache

; === Filesystem ===
board_build.filesystem = littlefs
board_build.partitions = default_16MB.csv