<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title and Description -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">Pressure Sensor and Solenoid Control Circuit</text>

  <!-- Power Supply Section -->
  <g id="power-supply">
    <text x="100" y="60" font-family="Arial" font-size="12" font-weight="bold">Power Supply Section</text>
    
    <!-- 18V Input -->
    <line x1="50" y1="80" x2="80" y2="80" stroke="black" stroke-width="2"/>
    <text x="40" y="85" font-family="Arial" font-size="10" text-anchor="end">18V</text>
    
    <!-- Fuse -->
    <rect x="80" y="75" width="30" height="10" stroke="black" fill="white" stroke-width="1"/>
    <text x="95" y="73" font-family="Arial" font-size="8" text-anchor="middle">Fuse 2A</text>
    
    <!-- C1 Capacitor -->
    <line x1="130" y1="80" x2="140" y2="80" stroke="black" stroke-width="2"/>
    <line x1="140" y1="80" x2="140" y2="95" stroke="black" stroke-width="1"/>
    <path d="M135,95 L145,95" stroke="black" stroke-width="1"/>
    <path d="M135,100 L145,100" stroke="black" stroke-width="1"/>
    <line x1="140" y1="100" x2="140" y2="120" stroke="black" stroke-width="1"/>
    <text x="140" y="90" font-family="Arial" font-size="8" text-anchor="middle">C1 10μF</text>
    
    <!-- LM1085IT-12 Regulator -->
    <rect x="170" y="65" width="50" height="30" stroke="black" fill="white" stroke-width="1"/>
    <text x="195" y="83" font-family="Arial" font-size="8" text-anchor="middle">LM1085IT-12</text>
    <line x1="140" y1="80" x2="170" y2="80" stroke="black" stroke-width="2"/>
    
    <!-- C3 Capacitor -->
    <line x1="220" y1="80" x2="240" y2="80" stroke="black" stroke-width="2"/>
    <line x1="240" y1="80" x2="240" y2="95" stroke="black" stroke-width="1"/>
    <path d="M235,95 L245,95" stroke="black" stroke-width="1"/>
    <path d="M235,100 L245,100" stroke="black" stroke-width="1"/>
    <line x1="240" y1="100" x2="240" y2="120" stroke="black" stroke-width="1"/>
    <text x="240" y="90" font-family="Arial" font-size="8" text-anchor="middle">C3 10μF</text>
    
    <!-- 12V Output -->
    <line x1="240" y1="80" x2="280" y2="80" stroke="black" stroke-width="2"/>
    <text x="285" y="85" font-family="Arial" font-size="10">12V</text>
    
    <!-- LM341T-5.0 Regulator -->
    <rect x="320" y="65" width="50" height="30" stroke="black" fill="white" stroke-width="1"/>
    <text x="345" y="83" font-family="Arial" font-size="8" text-anchor="middle">LM341T-5.0</text>
    <line x1="280" y1="80" x2="320" y2="80" stroke="black" stroke-width="2"/>
    
    <!-- C2 & C4 Capacitors -->
    <line x1="300" y1="80" x2="300" y2="95" stroke="black" stroke-width="1"/>
    <path d="M295,95 L305,95" stroke="black" stroke-width="1"/>
    <path d="M295,100 L305,100" stroke="black" stroke-width="1"/>
    <line x1="300" y1="100" x2="300" y2="120" stroke="black" stroke-width="1"/>
    <text x="300" y="90" font-family="Arial" font-size="8" text-anchor="middle">C2 0.1μF</text>
    
    <line x1="380" y1="80" x2="400" y2="80" stroke="black" stroke-width="2"/>
    <line x1="390" y1="80" x2="390" y2="95" stroke="black" stroke-width="1"/>
    <path d="M385,95 L395,95" stroke="black" stroke-width="1"/>
    <path d="M385,100 L395,100" stroke="black" stroke-width="1"/>
    <line x1="390" y1="100" x2="390" y2="120" stroke="black" stroke-width="1"/>
    <text x="390" y="90" font-family="Arial" font-size="8" text-anchor="middle">C4 1μF</text>
    
    <!-- 5V Output -->
    <text x="410" y="85" font-family="Arial" font-size="10">5V</text>
    
    <!-- GND Line -->
    <line x1="50" y1="120" x2="400" y2="120" stroke="black" stroke-width="2"/>
    <text x="40" y="125" font-family="Arial" font-size="10" text-anchor="end">GND</text>
    <line x1="140" y1="120" x2="140" y2="100" stroke="black" stroke-width="1"/>
    <line x1="240" y1="120" x2="240" y2="100" stroke="black" stroke-width="1"/>
    <line x1="300" y1="120" x2="300" y2="100" stroke="black" stroke-width="1"/>
    <line x1="390" y1="120" x2="390" y2="100" stroke="black" stroke-width="1"/>
  </g>

  <!-- Pressure Sensor Section -->
  <g id="pressure-sensor" transform="translate(0, 150)">
    <text x="100" y="20" font-family="Arial" font-size="12" font-weight="bold">Pressure Sensor</text>
    
    <rect x="150" y="30" width="80" height="40" stroke="black" fill="white" stroke-width="1"/>
    <text x="190" y="55" font-family="Arial" font-size="10" text-anchor="middle">Pressure Sensor</text>
    
    <!-- VCC Connection -->
    <line x1="120" y1="40" x2="150" y2="40" stroke="black" stroke-width="1"/>
    <text x="110" y="43" font-family="Arial" font-size="10" text-anchor="end">5V</text>
    
    <!-- GND Connection -->
    <line x1="120" y1="50" x2="150" y2="50" stroke="black" stroke-width="1"/>
    <text x1="110" y="53" font-family="Arial" font-size="10" text-anchor="end">GND</text>
    
    <!-- Signal Output -->
    <line x1="230" y1="50" x2="280" y2="50" stroke="black" stroke-width="1"/>
    <text x="255" y="45" font-family="Arial" font-size="8" text-anchor="middle">0.5-4.5V</text>
    <text x="285" y="53" font-family="Arial" font-size="10">To ADC</text>
  </g>

  <!-- ADS1015 ADC Section -->
  <g id="adc" transform="translate(300, 150)">
    <text x="100" y="20" font-family="Arial" font-size="12" font-weight="bold">ADS1015 ADC</text>
    
    <rect x="70" y="30" width="80" height="80" stroke="black" fill="white" stroke-width="1"/>
    <text x="110" y="50" font-family="Arial" font-size="10" text-anchor="middle">ADS1015</text>
    <text x="110" y="65" font-family="Arial" font-size="8" text-anchor="middle">12-bit ADC</text>
    
    <!-- Connections -->
    <line x1="40" y1="40" x2="70" y2="40" stroke="black" stroke-width="1"/>
    <text x="35" y="43" font-family="Arial" font-size="8" text-anchor="end">5V</text>
    
    <line x1="40" y1="60" x2="70" y2="60" stroke="black" stroke-width="1"/>
    <text x="35" y="63" font-family="Arial" font-size="8" text-anchor="end">GND</text>
    
    <line x1="40" y1="80" x2="70" y2="80" stroke="black" stroke-width="1"/>
    <text x="35" y="83" font-family="Arial" font-size="8" text-anchor="end">A0</text>
    
    <line x1="150" y1="90" x2="180" y2="90" stroke="black" stroke-width="1"/>
    <text x="185" y="93" font-family="Arial" font-size="8">SCL</text>
    
    <line x1="150" y1="100" x2="180" y2="100" stroke="black" stroke-width="1"/>
    <text x="185" y="103" font-family="Arial" font-size="8">SDA</text>
  </g>

  <!-- PCA9306 Level Shifter -->
  <g id="level-shifter" transform="translate(500, 150)">
    <text x="60" y="20" font-family="Arial" font-size="12" font-weight="bold">I2C Level Shifter</text>
    
    <rect x="40" y="30" width="70" height="80" stroke="black" fill="white" stroke-width="1"/>
    <text x="75" y="50" font-family="Arial" font-size="10" text-anchor="middle">PCA9306</text>
    
    <!-- Connections -->
    <line x1="10" y1="40" x2="40" y2="40" stroke="black" stroke-width="1"/>
    <text x="5" y="43" font-family="Arial" font-size="8" text-anchor="end">3.3V</text>
    
    <line x1="10" y1="60" x2="40" y2="60" stroke="black" stroke-width="1"/>
    <text x="5" y="63" font-family="Arial" font-size="8" text-anchor="end">5V</text>
    
    <line x1="110" y1="40" x2="140" y2="40" stroke="black" stroke-width="1"/>
    <text x="145" y="43" font-family="Arial" font-size="8">SCL1</text>
    
    <line x1="110" y1="50" x2="140" y2="50" stroke="black" stroke-width="1"/>
    <text x="145" y="53" font-family="Arial" font-size="8">SDA1</text>
    
    <line x1="110" y1="70" x2="140" y2="70" stroke="black" stroke-width="1"/>
    <text x="145" y="73" font-family="Arial" font-size="8">SCL2</text>
    
    <line x1="110" y1="80" x2="140" y2="80" stroke="black" stroke-width="1"/>
    <text x="145" y="83" font-family="Arial" font-size="8">SDA2</text>
    
    <!-- Pull-up Resistors -->
    <line x1="125" y1="40" x2="125" y2="25" stroke="black" stroke-width="1"/>
    <rect x="120" y="15" width="10" height="20" stroke="black" fill="white" stroke-width="1"/>
    <text x="130" y="25" font-family="Arial" font-size="8">4.7kΩ</text>
    
    <line x1="125" y1="50" x2="125" y2="25" stroke="black" stroke-width="1"/>
  </g>

  <!-- MOSFET Driver Section -->
  <g id="mosfet-driver" transform="translate(0, 300)">
    <text x="150" y="20" font-family="Arial" font-size="12" font-weight="bold">MOSFET Driver for Inductive Load</text>
    
    <!-- MOSFET Symbol -->
    <path d="M150,70 L150,100" stroke="black" stroke-width="1.5"/>
    <path d="M150,70 L170,70" stroke="black" stroke-width="1.5"/>
    <path d="M150,85 L170,85" stroke="black" stroke-width="1.5"/>
    <path d="M150,100 L170,100" stroke="black" stroke-width="1.5"/>
    <path d="M170,60 L170,110" stroke="black" stroke-width="1.5"/>
    <path d="M170,70 L190,70" stroke="black" stroke-width="1.5"/>
    <path d="M170,100 L190,100" stroke="black" stroke-width="1.5"/>
    
    <text x="160" y="55" font-family="Arial" font-size="10">IRLZ44N</text>
    
    <!-- Gate Resistor -->
    <line x1="100" y1="85" x2="120" y2="85" stroke="black" stroke-width="1.5"/>
    <rect x="120" y="80" width="20" height="10" stroke="black" fill="white" stroke-width="1"/>
    <text x="130" y="78" font-family="Arial" font-size="8" text-anchor="middle">470Ω</text>
    <line x1="140" y1="85" x2="150" y2="85" stroke="black" stroke-width="1.5"/>
    <text x="90" y="89" font-family="Arial" font-size="8" text-anchor="end">D7</text>
    
    <!-- Pull-down Resistor -->
    <line x1="150" y1="85" x2="150" y2="130" stroke="black" stroke-width="1" stroke-dasharray="4,2"/>
    <rect x="145" y="130" width="10" height="20" stroke="black" fill="white" stroke-width="1"/>
    <text x="155" y="140" font-family="Arial" font-size="8">10kΩ</text>
    <line x1="150" y1="150" x2="150" y2="170" stroke="black" stroke-width="1"/>
    
    <!-- Inductive Load -->
    <rect x="220" y="40" width="40" height="30" stroke="black" fill="white" stroke-width="1"/>
    <text x="240" y="60" font-family="Arial" font-size="10" text-anchor="middle">Solenoid</text>
    <line x1="190" y1="70" x2="220" y2="70" stroke="black" stroke-width="1.5"/>
    <line x1="260" y1="70" x2="290" y2="70" stroke="black" stroke-width="1.5"/>
    
    <!-- Flyback Diode -->
    <path d="M240,80 L260,80" stroke="black" stroke-width="1"/>
    <path d="M250,80 L240,90 L260,90 L250,80" stroke="black" fill="white" stroke-width="1"/>
    <line x1="250" y1="90" x2="250" y2="70" stroke="black" stroke-width="1"/>
    <text x="265" y="85" font-family="Arial" font-size="8">1N4007</text>
    
    <!-- 18V Connection -->
    <line x1="290" y1="70" x2="320" y2="70" stroke="black" stroke-width="1.5"/>
    <text x="325" y="73" font-family="Arial" font-size="10">18V</text>
    
    <!-- Ground Connection -->
    <line x1="190" y1="100" x2="190" y2="170" stroke="black" stroke-width="1.5"/>
    <line x1="100" y1="170" x2="250" y2="170" stroke="black" stroke-width="2"/>
    <text x="90" y="173" font-family="Arial" font-size="10" text-anchor="end">GND</text>
  </g>

  <!-- Arduino Nano ESP32 Section -->
  <g id="arduino" transform="translate(400, 300)">
    <text x="150" y="20" font-family="Arial" font-size="12" font-weight="bold">Arduino Nano ESP32</text>
    
    <rect x="100" y="40" width="100" height="140" stroke="black" fill="white" stroke-width="1.5"/>
    <text x="150" y="65" font-family="Arial" font-size="10" text-anchor="middle">Arduino Nano ESP32</text>
    
    <!-- Pin Connections -->
    <line x1="80" y1="80" x2="100" y2="80" stroke="black" stroke-width="1"/>
    <text x="75" y="83" font-family="Arial" font-size="8" text-anchor="end">3.3V</text>
    
    <line x1="80" y1="100" x2="100" y2="100" stroke="black" stroke-width="1"/>
    <text x="75" y="103" font-family="Arial" font-size="8" text-anchor="end">GND</text>
    
    <line x1="80" y1="120" x2="100" y2="120" stroke="black" stroke-width="1"/>
    <text x="75" y="123" font-family="Arial" font-size="8" text-anchor="end">D7</text>
    
    <line x1="80" y1="140" x2="100" y2="140" stroke="black" stroke-width="1"/>
    <text x="75" y="143" font-family="Arial" font-size="8" text-anchor="end">GPIO21/SDA</text>
    
    <line x1="80" y1="160" x2="100" y2="160" stroke="black" stroke-width="1"/>
    <text x="75" y="163" font-family="Arial" font-size="8" text-anchor="end">GPIO22/SCL</text>
    
    <line x1="220" y1="80" x2="200" y2="80" stroke="black" stroke-width="1"/>
    <text x="225" y="83" font-family="Arial" font-size="8">VIN (12V)</text>
  </g>

  <!-- Connectors and Notes -->
  <g id="notes" transform="translate(0, 500)">
    <text x="400" y="20" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle">Implementation Notes</text>
    
    <text x="100" y="40" font-family="Arial" font-size="10">• Use a Schottky diode (SB560) for reverse polarity protection</text>
    <text x="100" y="60" font-family="Arial" font-size="10">• Keep MOSFET gate trace short to minimize inductance</text>
    <text x="100" y="80" font-family="Arial" font-size="10">• Add TVS diode (SMCJ18A) across drain-source for protection</text>
    
    <text x="500" y="40" font-family="Arial" font-size="10">• Configure ADS1015 gain for ±4.096V range</text>
    <text x="500" y="60" font-family="Arial" font-size="10">• Use wide traces (min 2.5mm) for power connections</text>
    <text x="500" y="80" font-family="Arial" font-size="10">• Implement software watchdog for reliability</text>
  </g>
</svg>
